<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¡çš®å·´æ‹‰ã®å¥½è¿è½¬ç›˜ ğŸ¦«</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@500;700&family=ZCOOL+KuaiLe&display=swap" rel="stylesheet">
    <style>
        body { 
            font-family: 'Noto Sans SC', sans-serif; 
            background: linear-gradient(135deg, #f9e8c8 0%, #e8c898 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }
        .container { 
            text-align: center; 
            background: #fff9e8;
            padding: 50px 40px; 
            border-radius: 30px; 
            box-shadow: 0 15px 30px rgba(163, 122, 68, 0.2);
            border: 2px solid #d4b483;
            position: relative;
            max-width: 500px;
            width: 90%;
        }

        /* é¡¶éƒ¨å¡çš®å·´æ‹‰è£…é¥° - ä¸¤ä¸ªä¸åŒå½¢æ€+æ‘‡æ‘†åŠ¨ç”» */
        .top-capybaras {
            position: absolute;
            top: -30px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
        }
        .capybara-deco {
            font-size: 40px;
            animation: swing 3s ease-in-out infinite alternate;
            transform-origin: center top; /* æ‘‡æ‘†åŸç‚¹åœ¨é¡¶éƒ¨ */
        }
        .capybara-deco:nth-child(1) {
            content: "ğŸ¦«"; /* å½¢æ€1ï¼šæ™®é€šåå§¿ */
            animation-delay: 0.5s; /* å»¶è¿ŸåŠ¨ç”»ï¼Œé”™å¼€æ‘‡æ‘†èŠ‚å¥ */
        }
        .capybara-deco:nth-child(2) {
            content: "ğŸ˜´"; /* å½¢æ€2ï¼šç¡é¢œå½¢æ€ */
        }
        @keyframes swing {
            0% { transform: rotate(-10deg); }
            100% { transform: rotate(10deg); }
        }

        .container.hidden-style::before {
            content: "ğŸ¦«âœ¨";
            font-size: 50px;
            position: absolute;
            top: -25px;
            right: 25px;
            transform: rotate(20deg);
            animation: shake 1s infinite alternate;
        }
        @keyframes shake {
            0% { transform: rotate(20deg) scale(1); }
            100% { transform: rotate(25deg) scale(1.1); }
        }
        h1 {
            font-family: 'Ma Shan Zheng', cursive;
            color: #8b5a2b;
            font-size: 36px;
            margin: 30px 0 20px 0; /* ç»™é¡¶éƒ¨å¡çš®å·´æ‹‰ç•™å‡ºç©ºé—´ */
            text-shadow: 2px 2px 3px rgba(0,0,0,0.1);
        }
        .wheel-container {
            position: relative;
            width: 320px;
            height: 320px;
            margin: 20px auto;
        }
        .wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
            transition: transform 5s cubic-bezier(0.17, 0.67, 0.12, 0.99);
            transform-origin: 50% 50%;
            border: 8px solid #d4b483;
            box-shadow: 0 5px 15px rgba(163, 122, 68, 0.3);
            margin: 0;
        }
        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: bottom right;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            margin: 0;
        }
        .segment-content {
            position: absolute;
            width: 100px;
            text-align: center;
            transform-origin: center;
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
            font-size: 20px;
            margin: 0;
        }
        .wheel-center {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #a0522d;
            top: calc(50% - 25px);
            left: calc(50% - 25px);
            z-index: 10;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text x="50" y="60" font-size="60" text-anchor="middle">ğŸ¦«</text></svg>');
            background-size: 80%;
            background-position: center;
            background-repeat: no-repeat;
            margin: 0;
        }
        .wheel-pointer {
            position: absolute;
            width: 40px;
            height: 40px;
            top: -15px;
            left: calc(50% - 20px);
            z-index: 5;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text x="50" y="70" font-size="60" text-anchor="middle">ğŸ¦«</text></svg>');
            background-size: 100%;
            background-position: center;
            background-repeat: no-repeat;
            animation: pointerBounce 2s infinite alternate;
            margin: 0;
        }
        @keyframes pointerBounce {
            0% { transform: scale(1); }
            100% { transform: scale(1.1); }
        }
        .wheel.hidden-result {
            box-shadow: 0 0 20px #ffd700, 0 0 30px #ffd700;
        }
        #blessingText { 
            font-family: 'Noto Sans SC', sans-serif;
            font-size: 22px; 
            color: #5c4033;
            margin: 20px 0; 
            min-height: 60px; 
            display: flex; 
            align-items: center; 
            justify-content: center;
            line-height: 1.5;
            padding: 0 10px;
            font-weight: 500;
        }
        #blessingText.hidden-text {
            color: #d4af37;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(212, 175, 55, 0.5);
        }
        button { 
            background: linear-gradient(90deg, #d4b483 0%, #c19a6b 100%);
            color: white; 
            border: none; 
            padding: 18px 40px; 
            border-radius: 50px; 
            font-size: 20px; 
            cursor: pointer; 
            margin: 20px auto 0; 
            transition: all 0.3s ease;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(163, 122, 68, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        button:hover { 
            background: linear-gradient(90deg, #c19a6b 0%, #a67c52 100%);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(163, 122, 68, 0.4);
        }
        button:active {
            transform: translateY(1px);
        }
    </style>
</head>
<body>
    <div class="container" id="mainContainer">
        <!-- é¡¶éƒ¨ä¸¤ä¸ªå¡çš®å·´æ‹‰è£…é¥° -->
        <div class="top-capybaras">
            <div class="capybara-deco">ğŸ¦«</div>
            <div class="capybara-deco">ğŸ˜´</div>
        </div>

        <h1>å¡çš®å·´æ‹‰é€å¥½è¿å•¦</h1>
        <div class="wheel-container">
            <div class="wheel" id="wheel"></div>
            <div class="wheel-center"></div>
            <div class="wheel-pointer"></div>
        </div>
        <div id="blessingText">ç‚¹å‡»æŒ‰é’®ï¼Œè§£é”æ°´è±šã®ä¸“å±ç¥ç¦ï½</div>
        <button onclick="spinWheel()">
            <span>å†è½¬ä¸€æ¬¡</span>
            <span>ğŸ¦«</span>
        </button>
    </div>

    <script>
        const baseBlessings = {
            1: [
                "ğŸ¦« ä¸ç”¨æ€¥ç€èµ¶è·¯ï¼Œä¸“æ³¨åšå¥½å½“ä¸‹çš„äº‹ï¼Œæ¯ä¸€ä»½åŠªåŠ›éƒ½ä¸ä¼šè¢«è¾œè´Ÿï½",
                "ğŸ¦« ä¸€æ­¥ä¸€ä¸ªè„šå°èµ°ï¼Œæ…¢æ…¢æ¥çš„é€Ÿåº¦ï¼Œåè€Œæ›´ç¨³å½“å‘€ï½"
            ],
            2: [
                "ğŸ¦« æœ‰äººæ‡‚ä½ çš„æ¸©æŸ”ï¼Œä¹Ÿæœ‰äººåˆ†äº«ä½ çš„å°æ¬¢å–œï¼Œè¿™æ ·çš„æ—¥å­å°±å¾ˆå¥½ï½",
                "ğŸ¦« çœŸå¿ƒç›¸å¾…çš„å…³ç³»ï¼Œæ€»èƒ½æ²»æ„ˆç”Ÿæ´»é‡Œçš„æ‰€æœ‰ç–²æƒ«ï½"
            ],
            3: [
                "ğŸ¦« æ”¶æ”¯å®‰ç¨³ï¼Œå¤Ÿç”¨å°±å¥½ï¼Œå°è´¢å°ç¦å¸¸ç›¸ä¼´ï¼Œæ—¥å­ä¸æ…Œä¸å¿™ï½",
                "ğŸ¦« ä¸ç”¨è¿½æ±‚å¤§å¯Œå¤§è´µï¼Œèƒ½æ»¡è¶³æ—¥å¸¸çš„å°æœŸå¾…ï¼Œå°±æ˜¯æœ€å¥½çš„è´¢è¿ï½"
            ],
            4: [
                "ğŸ¦« åƒå¾—é¦™ã€ç¡å¾—ç¨³ï¼Œèº«ä½“æ— ç—…ç—›ï¼Œå¿ƒé‡Œæ— çƒ¦æ¼ï¼Œè¿™å°±æ˜¯æœ€å¥½çš„çŠ¶æ€ï½",
                "ğŸ¦« åƒæ°´è±šæ³¡æ¸©æ³‰ä¸€æ ·æ”¾æ¾èº«å¿ƒï¼Œå¥½å¥½ç…§é¡¾è‡ªå·±ï¼Œæ¯”ä»€ä¹ˆéƒ½é‡è¦ï½"
            ],
            5: [
                "ğŸ¦« å¼€å¿ƒæ—¶å¤§ç¬‘ï¼Œéš¾è¿‡æ—¶ä¹Ÿå…è®¸è‡ªå·±æ­‡æ­‡ï¼Œæ¥çº³æ‰€æœ‰æƒ…ç»ªçš„ä½ ï¼Œè¶…å¯çˆ±ï½",
                "ğŸ¦« ä¸ç”¨é€¼è‡ªå·±ä¸€ç›´å¿«ä¹ï¼Œå¹³å‡¡æ—¥å­é‡Œçš„å°ç¾å¥½ï¼Œå°±å€¼å¾—çæƒœï½"
            ],
            6: [
                "ğŸ¦« æ‰€æ±‚çš†å¦‚æ„¿ï¼Œæ‰€è¡Œçš†å¦é€”ï¼Œå“ªæ€•æœ‰å°æ³¢æŠ˜ï¼Œä¹Ÿèƒ½ä»å®¹åŒ–è§£ï½",
                "ğŸ¦« ä¸æ˜¯äº‹äº‹å®Œç¾ï¼Œè€Œæ˜¯é‡åˆ°ä¸é¡ºæ—¶ï¼Œä¹Ÿæœ‰ç»§ç»­å¾€å‰èµ°çš„å‹‡æ°”ï½"
            ],
            7: [
                "ğŸ¦« æ‰€æœ‰çš„é—æ†¾ï¼Œéƒ½æ˜¯æœªæ¥æƒŠå–œçš„é“ºå«ï¼Œæ…¢æ…¢æ¥ï¼Œå¥½äº‹å¤šç£¨ï½",
                "ğŸ¦« ä½ èµ°çš„æ¯ä¸€æ­¥ï¼Œéƒ½åœ¨é è¿‘æƒ³è¦çš„ç”Ÿæ´»ï¼Œåˆ«æ€¥ï¼Œæ—¶é—´ä¼šç»™ç­”æ¡ˆï½"
            ],
            8: [
                "ğŸ¦« ä¿æŒçƒ­çˆ±ï¼Œå¥”èµ´å±±æµ·ï¼Œå¹³å‡¡çš„æ—¥å­ä¹Ÿèƒ½å¼€å‡ºæ¸©æŸ”çš„èŠ±ï½",
                "ğŸ¦« åšè‡ªå·±çš„å¤ªé˜³ï¼Œæ— éœ€å€Ÿè°çš„å…‰ï¼Œä½ æœ¬èº«å°±è¶³å¤Ÿè€€çœ¼ï½"
            ]
        };

        const hiddenBlessings = [
            "âœ¨éšè—æ¬¾è§¦å‘ï¼ğŸ¦« æ„¿ä½ æ¥ä¸‹æ¥çš„æ—¥å­ï¼Œæ—¢æœ‰æ„æ–™ä¹‹ä¸­çš„ç¾å¥½ï¼Œä¹Ÿæœ‰æ„æ–™ä¹‹å¤–çš„æƒŠå–œï½",
            "âœ¨æ¬§æ°”çˆ†æ£šï¼ğŸ¦« è§£é”å¡çš®å·´æ‹‰ä¸“å±ç¥ç¦ï¼šä½ å€¼å¾—æ‰€æœ‰çš„å¥½è¿å’Œæ¸©æŸ”ï¼Œåªç®¡å¾€å‰èµ°ï½",
            "âœ¨å¤©é€‰æ°´è±šï¼ğŸ¦« éšè—æ¬¾å½©è›‹æ‰è½ï¼šæ…¢æ…¢æ¥ï¼Œä¸€åˆ‡éƒ½ä¼šæœç€ä½ æƒ³è¦çš„æ–¹å‘å‘å±•ï½",
            "âœ¨ç¨€æœ‰buffï¼ğŸ¦« å·å·å‘Šè¯‰ä½ ï¼šä½ æœ¬èº«å°±è‡ªå¸¦å¥½è¿ï¼Œåªæ˜¯å¶å°”å¿˜äº†è€Œå·²ï½"
        ];

        const hiddenProbability = 0.1;
        let currentRotation = 0;

        function createWheelSegments() {
            const wheel = document.getElementById('wheel');
            const segments = 8;
            const colors = [
                '#e86f68', '#68a0e8', '#68e8a0', 
                '#e8c668', '#b068e8', '#e868b0',
                '#68e8e8', '#a0e868'
            ];
            
            for (let i = 0; i < segments; i++) {
                const segment = document.createElement('div');
                segment.className = 'wheel-segment';
                segment.style.transform = `rotate(${i * 45}deg)`;
                segment.style.backgroundColor = colors[i];
                
                const content = document.createElement('div');
                content.className = 'segment-content';
                content.textContent = i + 1;
                content.style.transform = `rotate(${22.5 + i * 45}deg) translateY(-95px)`;
                
                segment.appendChild(content);
                wheel.appendChild(segment);
            }
        }

        function getRandomItem(array) {
            return array[Math.floor(Math.random() * array.length)];
        }

        function spinWheel() {
            const container = document.getElementById('mainContainer');
            const wheel = document.getElementById('wheel');
            const blessingDiv = document.getElementById('blessingText');
            container.classList.remove('hidden-style');
            wheel.classList.remove('hidden-result');
            blessingDiv.classList.remove('hidden-text');
            
            const button = document.querySelector('button');
            button.disabled = true;
            button.innerHTML = "<span>è½¬åŠ¨ä¸­...</span><span>ğŸ¦«</span>";

            const minSpins = 3;
            const maxSpins = 5;
            const spinAngle = 360 * (minSpins + Math.random() * (maxSpins - minSpins));
            const segmentAngle = 360 / 8;
            const randomOffset = Math.floor(Math.random() * 8) * segmentAngle;
            
            currentRotation += spinAngle + randomOffset;
            wheel.style.transform = `rotate(${currentRotation}deg)`;

            setTimeout(() => {
                const isHidden = Math.random() < hiddenProbability;
                if (isHidden) {
                    wheel.classList.add('hidden-result');
                    blessingDiv.textContent = getRandomItem(hiddenBlessings);
                    blessingDiv.classList.add('hidden-text');
                    container.classList.add('hidden-style');
                } else {
                    const normalizedRotation = ((currentRotation % 360) + 360) % 360;
                    const segmentIndex = Math.floor((360 - normalizedRotation) % 360 / segmentAngle);
                    const finalNum = segmentIndex + 1;
                    
                    blessingDiv.textContent = getRandomItem(baseBlessings[finalNum]);
                }
                
                button.disabled = false;
                button.innerHTML = "<span>å†è½¬ä¸€æ¬¡</span><span>ğŸ¦«</span>";
            }, 5000);
        }

        window.onload = () => {
            createWheelSegments();
            spinWheel();
        };
    </script>
</body>
</html>